#!/bin/sh
#
# $Id$
#
# Script to compile AS3 code.
#

ROOT=`dirname $0`
ROOT=`cd $ROOT; cd ..; pwd`

java -jar "$ROOT/lib/as-compiler/lib/mxmlc.jar" \
    -locale en_US \
    -load-config $ROOT/lib/as-compiler/frameworks/flex-config.xml \
    -link-report /tmp/link-report.txt \
    -resource-bundle-list "/tmp/bundles.list" \
    -compiler.warn-class-is-sealed=true \
    -compiler.warn-constructor-returns-value=true \
    -compiler.verbose-stacktraces=true \
    -compiler.fonts.local-fonts-snapshot=$ROOT/lib/as-compiler/frameworks/localFonts.ser \
    -compiler.source-path="$ROOT/projects/narya/src/as/" \
    -compiler.source-path="$ROOT/projects/vilya/src/as/" \
    -compiler.source-path="$ROOT/src/as/" \
    -compiler.source-path="$ROOT/src/css/" \
    -compiler.source-path="$ROOT/rsrc/{locale}/i18n" \
    $ROOT/src/mxml/Msoy.mxml
