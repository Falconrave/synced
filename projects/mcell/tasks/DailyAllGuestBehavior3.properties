task.type=aggregator
task.name=All_Guest_Behavior_Features

aggregator.results=CountConversion,CountAll
aggregator.key.class=com.threerings.panopticon.reporter.aggregator.key.UniqueKey
aggregator.inputs=AllGuestBehavior
aggregator.output=AllGuestBehaviorFeaturesV2
filters.AllGuestBehavior.class=com.threerings.panopticon.efs.storev2.index.StringFieldFilter
filters.AllGuestBehavior.field=conv
filters.AllGuestBehavior.values=1,0
aggregator.transformers=Percentage

key.field=features_till_conversion
key.outputField=features

result.CountConversion.class=com.threerings.panopticon.reporter.aggregator.result.CountByTypeResult
result.CountConversion.sourceTypeField=conv
result.CountConversion.typeFields=1:n_converted,0:n_left
result.CountAll.class=com.threerings.panopticon.reporter.aggregator.result.CountResult
result.CountAll.outputField=n_total

transformer.Percentage.class=com.threerings.msoy.aggregators.trans.PercentageTransformer
transformer.Percentage.inputOver=n_converted
transformer.Percentage.inputUnder=n_total
transformer.Percentage.outputField=n_conv_percent
