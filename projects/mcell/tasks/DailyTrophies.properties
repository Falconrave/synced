task.type=aggregator
task.name=Daily_Trophies
task.schedule=DAILY

aggregator.results=ByRecipient,ByGame,Total
aggregator.key.class=com.threerings.panopticon.reporter.aggregator.key.DateIntervalKey
aggregator.transformers=Truncate
aggregator.inputs=TrophyEarned
incremental.TrophyEarned=timestamp
aggregator.output=DailyTrophies
incremental.DailyTrophies=date

result.ByRecipient.class=com.threerings.panopticon.reporter.aggregator.result.CountUniqueResult
result.ByRecipient.uniqueField=recipientId
result.ByRecipient.outputField=recipients

result.ByGame.class=com.threerings.panopticon.reporter.aggregator.result.CountUniqueResult
result.ByGame.uniqueField=gameId
result.ByGame.outputField=gameIds

result.Total.class=com.threerings.panopticon.reporter.aggregator.result.CountResult
result.Total.outputField=totalAwards

transformer.Truncate.class=com.threerings.msoy.aggregators.trans.TruncateToIntervalTransformer
